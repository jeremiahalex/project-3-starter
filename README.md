# ![](https://ga-dash.s3.amazonaws.com/production/assets/logo-9f88ae6c9c3871690e33280fcf557f33.png) Project #3: Kreey8

https://kreey8.herokuapp.com/
---

### Introduction

![](/app/assets/images/logo.png)


This website is to give users a whole new flexibility when it comes to event's budget planning.

Users are able to plan their events with information on the price of the items that they are planning to buy.

All information of items are fetched from [NTUC Fairprice](http://www.fairprice.com.sg/) via web scraping.

---

### Overview
This project is built with the following technologies:

- HTML, JS, CSS
- jQuery
- Ruby on Rails
- PostgreSQL
- deployed with [Heroku](https://www.heroku.com)

### ERD
The model relationship design was a unique learning experience for us. The models we used were:
- users
- events
- items

We were using PostgreSQL for the first time, and had to utilize join tables to represent many to many relationships between our models.
Items and events have a many to many relationship in this project.

![](/app/assets/images/ERD.png)

### Flowchart
Initial flowchart at the start of the project.
![](/app/assets/images/early_flow.png)
Finalized flowchart of our website.
![](/app/assets/images/final_flow.png)

### Wireframe
The design from which our website is based off of can be viewed in the [linked powerpoint](https://docs.google.com/presentation/d/1ml9hg4V50Hcqb_tYOU9-8_3El5K8Qn-v4llbk1H_qno/edit#slide=id.p)

---
## Script

### Routing & CRUD
#### Events had 4 main views
* Index is for displaying all events linked to users
* Show is for displaying details linked to specific event including items and chart
* New renders a form for that links to events model
* Edit renders a form for that allows updates to specific event

![alt text](app/assets/images/eventMVC.png?raw=true 'start')

#### Item had a single view that displayed
* search bar
* results from scraping
* add buttons that are linked to event setup by user

![alt text](app/assets/images/ItemMVC.png?raw=true 'start')


### Authentication
Ruby makes authentication much easier! With devise, and Ruby on Rails' autogenerated routes, the whole process was pretty automatic. We utilized devise's other routes as well to allow users to edit their password.
![](/app/assets/images/edit_user.png)

### Web Scraping

- We used a webscraping Ruby gem, __Nokogiri__ ([documentation](https://github.com/sparklemotion/nokogiri)), to access search results from http://www.fairprice.com.sg/
- Note: Nokogiri itself requires the Ruby gem __open-uri__ to fetch HTML pages

* This is the HTML page we want to scrape:
![](/app/assets/images/ntuc_search_results.png)

* We fetch the HTML document, then parse it and save the information into an array variable.
![](/app/assets/images/nokogiri.png)

* Finally, we pass this variable to our view template.
![](/app/assets/images/nokogiri_view.png)

### Chat Support ([Intercom.io](intercom.io))
- Intercom.io provides solutions for _chat support, email marketing, and other tools_ that help companies connect with customers through the customer lifecycle.

* We chose to incorporate the chat support function. This is what the user sees:
![](/app/assets/images/intercom_customer.png)

* This is how we interact with the user on the Intercom webapp:
![](/app/assets/images/intercom_agent.png)

* Set up is beautifully easy:

```javascript
<script>
  var APP_ID = "APP_ID";

 window.intercomSettings = {
    app_id: APP_ID
  };
</script>
<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/APP_ID';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
```

### Google Pie Chart

https://developers.google.com/chart/interactive/docs/gallery/imagepiechart

![](/app/assets/images/piechartgood.png)

Made use of jQuery to extract information of items (name and price) from the frontend instead of data base.


### CSS Framework
http://materializecss.com/

![](/app/assets/images/materialize.png)

---
### Future Development

- Use of a better pie chart so as to allow better visualisation of data.

![](/app/assets/images/piechartugly.png)

What happened when there are too many items in the list.

- Implementation of Starter Kit so as to pre-add relevant items into shopping list. (ie. When user choose a BBQ, items like skewers, chicken wings, butter etc will be automatically added to his shopping list.)

- Allow invitation of guests by users. Guests will have the ability to add/ recommend items to the event's shopping list.

---

### Working as a team
- Pair Programming
- Frontend and Backend
- Plan project in phases
- Daily morning and evening SCRUM

### Members
- [Michelle](https://github.com/michelleylai)
- [Ng Wan Zhen](https://github.com/thecodingdog)
- [Nicholas Lee](https://github.com/nicoalee)
- [Lee Brian](https://github.com/bleetdh)

---


### Acknowledgement ###
* Prima Aulia (our Awesome WDI Instructor!)

* Wong Shi Mei (our very patient TA!)

* WDI 11 classmates!

* GOOGLE!

---

### Feedback ###
All feedbacks are welcome!
